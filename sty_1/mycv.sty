
\RequirePackage[default,semibold]{sourcesanspro}
\RequirePackage[11pt]{moresize}
\RequirePackage{anyfontsize}
\RequirePackage{csquotes}

\RequirePackage{graphicx}
\RequirePackage[twoside]{fancyhdr}

% COLOR
\RequirePackage{xcolor}
\definecolor{namecolor}{RGB}{2, 25, 54}
\definecolor{highlight}{RGB}{45, 53, 64}
\definecolor{myblack}{RGB}{56, 64, 74}
\definecolor{sectioncolor}{RGB}{133, 25, 11}
\definecolor{subtextcolor}{RGB}{14, 2, 87}

% LINKS
\RequirePackage{hyperref}
\hypersetup{colorlinks=true,urlcolor=highlight}

% BULLET POINTS
\RequirePackage[inline]{enumitem}
\setlength{\tabcolsep}{0in}
% Define your default (main) style for all pages (except first)
\fancyhf{}
\fancyfoot{}
\renewcommand{\thepage}{} 
\setlength{\headheight}{10pt}
\renewcommand{\thefootnote}{\textcolor{white}{\arabic{footnote}}}

% RENEWCOMMAND
% Define a custom style for the first page
\fancypagestyle{firstpage}
{
  \fancyhf{}
  \fancyfoot{}
  \renewcommand{\thepage}{} 
  \fancyhead{}
  \setlength{\headheight}{190pt}
  \renewcommand{\headrulewidth}{1.2pt}
  \renewcommand{\headrule}{%
    {\color{highlight}\hrule height \headrulewidth width \headwidth}%
  }
  \renewcommand{\footrulewidth}{0pt}
  \fancyhead[L]{\sffamily\fancyhdrbox{%
    \includegraphics[width=0.32\textwidth]{\photo}}}
  \fancyhead[R]
    {
      \fancyhdrbox[][11.5cm]{%
      \begin{minipage}[c][\headheight][c]{10cm}
        \centering
        {\color{namecolor}\Huge\textbf\name\\}
        {\color{namecolor}\prefix\\}
        \vspace{6pt}
        {\color{highlight}
          {\sffamily\Large\role}\\
          \vspace{8pt}
          \location\\
	        \vspace{0.1cm}
          \href{mailto:\email}{\email} \\
	        \vspace{0.1cm}
          \href{https://github.com/\github}{github.com/\github}\\
	        \vspace{0.1cm}
	        \LinkedIn\\
	        \vspace{0.1cm}
          \phone
        }
      \end{minipage}}%
    }
}

% BOLD COMMAND
\newcommand{\skills}[1]{ {\bfseries #1}}

% SUBTEXT
\newcommand{\subtext}[1]{{\color{subtextcolor}\textit{#1}}\par\vspace{-.75em}}

% SECTION FORMATTING 
\RequirePackage[nostruts]{titlesec}
\titlespacing*{\section}{0em}{0.5em}{0em}
\titleformat{\section}{\color{sectioncolor} \scshape \raggedright \large}{}{0em}{}[\vspace{-0.75em}\hrulefill]

% SUBSECTION FORMATTING
\titlespacing*{\subsection}{0em}{0em}{0em}
\titleformat{\subsection}{\color{subtextcolor}\bfseries}{}{0em}{}[]

% tighter spacing than itemize
\setlist[itemize]{align=parleft,left=0pt..1em}
\newenvironment{zitemize}{
\begin{itemize} \itemsep 0pt \parskip 0pt \parsep 1pt}
{\end{itemize}\vspace{-.5em}}

% Define a vertical line that stays in the background
\RequirePackage{tikz}
\usetikzlibrary{calc,tikzmark}
\newsavebox{\tlbox}
\newlength{\tlht}

% \begin{timelineentry}[<line width>]{<x offset>}{<name>}
%   ...content...
% \end{timelineentry}
%
% <x offset> = how far LEFT of the content block the line is (e.g. 1.2em)
% <name>     = unique id (e.g. train, postdoc1, phd2)
\newenvironment{timelineentry}[3][2.5pt]{%
  \def\tllw{#1}%
  \def\tlx{#2}%
  \def\tlid{#3}%
  \begin{lrbox}{\tlbox}%
  \begin{minipage}{\linewidth}%
  \tikzmark{\tlid-top}%
}{%
  \tikzmark{\tlid-bot}%
  \end{minipage}%
  \end{lrbox}%
  \noindent\usebox{\tlbox}%
  \begin{tikzpicture}[remember picture,overlay]
    \draw[sectioncolor,line width=\tllw]
      ($(pic cs:\tlid-top)+(-\tlx,0)$) -- ($(pic cs:\tlid-bot)+(-\tlx,0)$);
  \end{tikzpicture}%
}
