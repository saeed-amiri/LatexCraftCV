\RequirePackage{tikz}
\RequirePackage{graphicx}
\RequirePackage{enumitem}
\RequirePackage{tabularx}
\RequirePackage[colorlinks=true, urlcolor=blue]{hyperref}

\RequirePackage[sfdefault,light]{inter}
\renewcommand{\familydefault}{\sfdefault}

% \RequirePackage[sfdefault,light,semibold]{inter}
% \renewcommand{\familydefault}{\sfdefault}

\newcommand{\lighttext}{\fontseries{l}\selectfont}
\newcommand{\thintext}{\fontseries{ul}\selectfont} % ultra-light
\newcommand{\orgname}[1]{\textcolor{myblack!60}{\footnotesize\lighttext #1}}
\newcommand{\thinbullet}[1]{\textcolor{myblack!80}{\footnotesize #1}}

% Colors
\definecolor{namecolor}{RGB}{2, 25, 54}
\definecolor{highlight}{RGB}{45, 53, 64}
\definecolor{myblack}{RGB}{56, 64, 74}
\definecolor{sectioncolor}{RGB}{133, 25, 11}
\definecolor{subtextcolor}{RGB}{14, 2, 87}

\newcommand{\cvheader}{
  \begin{tikzpicture}[remember picture,overlay]
    % Background bar
    \fill[blue!60]
    (current page.north west) rectangle
    ([yshift=-4.5cm]current page.north east);
    
    % Photo on the left
    \node[anchor=north west, xshift=1.3cm, yshift=-0.5cm] 
    at (current page.north west)
    {\includegraphics[width=3.2cm]{\photo}};
    
    % Name + Role text
    \node[anchor=west, xshift=5.2cm, yshift=-1.2cm, text=white]
    at (current page.north west)
    {\fontsize{24}{28}\selectfont \name};
    
    \node[anchor=west, xshift=5.2cm, yshift=-3.7cm, text=white]
    at (current page.north west)
    {\fontsize{12}{14}\selectfont \role};
    
    
  \end{tikzpicture}
  
  \vspace*{2cm}
}
  
% --- Contact info block (ATS-friendly, one line) ---
\newcommand{\cvcontactinfo}[5]{
  \vspace{0.9cm}
  \noindent\small\bfseries
  #1 \hspace{1em}路\hspace{1em}
  #2 \hspace{1em}路\hspace{1em}
  #3 \hspace{1em}路\hspace{1em}
  #4 \hspace{1em}路\hspace{1em}
  #5
  \par\normalsize
  \vspace{0.9cm}
}
  
% SECTION FORMATTING 
\RequirePackage[nostruts]{titlesec}
\titlespacing*{\section}{0em}{-0.1em}{0em}
\titleformat{\section}{\color{sectioncolor} \scshape \raggedright \large}{}{0em}{}[\vspace{-0.5em}\hrulefill]
\setlength{\parindent}{0pt}

% % The items for the cv
\newcommand{\cvexperince}[4]{%
  % --- Header (#1) ---
  \vspace{0.9em}
  {\noindent\large\bfseries #1}

  % --- Two-column layout (1:3 ratio) ---
  \begin{tabularx}{\linewidth}{@{}>{\hsize=.25\hsize}X >{\hsize=.75\hsize}X@{}}
    % Left column: #2 and #3
    \begin{minipage}[t]{\linewidth}
      {\footnotesize\bfseries #2}\

  \vspace{0.2em}
      {\orgname{#3}}
    \end{minipage}
    &
    % Right column: bullet list (#4)
    \begin{minipage}[t]{\linewidth}
      \if\relax\detokenize{#4}\relax
      \else
        \vspace{-0.2em}
        \begin{itemize}[leftmargin=0.6cm, itemsep=0.2em, topsep=0.8em]
          \renewcommand\labelitemi{$\vcenter{\hbox{\tiny$\bullet$}}$}
          {\footnotesize\lighttext\color{myblack!95} #4}
        \end{itemize}
      \fi
    \end{minipage}
  \end{tabularx}

  \vspace{-0.0em}\par\noindent
}
