\RequirePackage{tikz}
\RequirePackage{graphicx}
\RequirePackage{enumitem}
\RequirePackage{tabularx}
\RequirePackage[colorlinks=true, urlcolor=gray]{hyperref}
\RequirePackage{xcolor}
\RequirePackage{pagecolor}
\RequirePackage[sfdefault,light]{inter}
% \RequirePackage{fontawesome5}
\renewcommand{\familydefault}{\sfdefault}
% \RequirePackage[sfdefault,light,semibold]{inter}
% \renewcommand{\familydefault}{\sfdefault}

% Colors
\definecolor{namecolor}{RGB}{2, 25, 54}
\definecolor{highlight}{RGB}{45, 53, 64}
\definecolor{myblack}{RGB}{56, 64, 74}
\definecolor{sectioncolor}{RGB}{133, 25, 11}
\definecolor{subtextcolor}{RGB}{14, 2, 87}
\definecolor{mybg1}{HTML}{243447}   % Midnight Blue
\definecolor{mybg2}{HTML}{1C2E4A}   % Dark Slate Blue
\definecolor{mybg3}{HTML}{0A1A2F}   % Deep Navy Blue
\definecolor{mybg4}{HTML}{2A3B4D}   % Deep Blueâ€‘Gray
\definecolor{mybg5}{HTML}{F5F5F5}   % Color for background
\definecolor{mybg6}{HTML}{F2E8D5}   % Color of the msg
\definecolor{mybg7}{HTML}{E6E6E6}   % Color of the side
\definecolor{mybg8}{HTML}{1A1A1A}   % Dark gray but not black, or 222222
\definecolor{headerbg}{HTML}{FAFAFA}

\newcommand{\lighttext}{\fontseries{l}\selectfont}
\newcommand{\thintext}{\fontseries{ul}\selectfont} % ultra-light
\newcommand{\orgname}[1]{\textcolor{black!60}{\fontsize{7}{8}\selectfont\lighttext #1}}
\newcommand{\thinbullet}[1]{\textcolor{black!80}{\footnotesize #1}}


\newcommand{\cvheader}{
  \begin{tikzpicture}[remember picture,overlay]

    % Background bar
    \fill[mybg1]
      (current page.north west) rectangle
      ([yshift=-4.0cm]current page.north east);

    % === NAME (top line) ===
    \node[anchor=west, xshift=1.2cm, yshift=-1.2cm, text=white]
      at (current page.north west)
      {\raggedright \fontsize{18}{20}\selectfont \title_name};

    % === CONTACT INFO (second line, smaller, directly under name) ===
    \node[anchor=west, xshift=1.2cm, yshift=-2.0cm, text=white]
      at (current page.north west)
      {\raggedright \fontsize{9}{11}\selectfont \location};

    \node[anchor=west, xshift=1.2cm, yshift=-2.4cm, text=white]
      at (current page.north west)
      {\raggedright \fontsize{9}{11}\selectfont \phone};

        \node[anchor=west, xshift=1.2cm, yshift=-2.8cm, text=white]
      at (current page.north west)
      {\raggedright \fontsize{9}{11}\selectfont \email};

    % === LOCATION + DATE (right side, same height as name) ===
    \node[anchor=east, xshift=-1.2cm, yshift=-1.2cm, text=white]
      at (current page.north east)
      {\fontsize{9}{10.8}\selectfont \city, \dated};

  \end{tikzpicture}

  \vspace*{2.8cm}
}

  
% SECTION FORMATTING 
\RequirePackage[nostruts]{titlesec}
\titlespacing*{\section}{0em}{1.5em}{0em}
\titleformat{\section}
  {\color{mybg3}\raggedright\bfseries\fontsize{12}{14,4}\selectfont}
  {}{0em}
  {}
  [\vspace{0.1em}\rule{\linewidth}{1pt}\vspace{0.5em}]
\setlength{\parindent}{0pt}
  

% % The items for the cv
\newcommand{\cvexperince}[4]{%
  % --- Header (#1) ---
  \vspace{0.2em}
  {\noindent\fontsize{8}{9}\selectfont\bfseries #1}

  % --- Two-column layout (1:3 ratio) ---
  \begin{tabularx}{\linewidth}{@{}>{\hsize=.27\hsize}X >{\hsize=.73\hsize}X@{}}
    % Left column: #2 and #3
    \begin{minipage}[t]{\linewidth}
      {\fontsize{9}{11}\selectfont\bfseries #2}\

  \vspace{0.2em}
      {\orgname{#3}}
    \end{minipage}
    &
    % Right column: bullet list (#4)
    \begin{minipage}[t]{\linewidth}
      \if\relax\detokenize{#4}\relax
      \else
        \vspace{-0.2em}
        \begin{itemize}[leftmargin=0.6cm, itemsep=0.0em, topsep=0.8em]
          \renewcommand\labelitemi{$\vcenter{\hbox{\tiny$\bullet$}}$}
          {\fontsize{7.7}{9}\selectfont\lighttext\color{black!95} #4}
        \end{itemize}
      \fi
    \end{minipage}
  \end{tabularx}

  \vspace{-0.4em}\par\noindent
}

\newcommand{\publication}[3]{%
  \noindent \textbf{\fontsize{7.7}{9}{$\bullet$\selectfont { #1}}}\

\vspace{-0.2em}
  {\small \fontsize{7.7}{9}\selectfont{#2}}\

\vspace{-0.2em}
  {\small\textit{\fontsize{7.7}{9}\selectfont #3}}%
  \vspace{0.6em}
}

\newcommand{\publicationssection}[1]{%
  \vspace{0.5em}
  #1
  \vspace{0.5em}
}

\newcommand{\refrences}[5]{%
  \noindent \textbf{\fontsize{7.7}{9}{$\bullet$\selectfont { #1}}}\

  \vspace{-0.2em}
  {\small \fontsize{7.7}{9}\selectfont{#2}}\

  \vspace{-0.2em}
  {\small\textit{\fontsize{7.7}{9}\selectfont #3}}%

  \vspace{-0.2em}
  {\small\textit{\fontsize{7.7}{9}\selectfont #4}}%

  \vspace{-0.2em}
  {\small\textit{\fontsize{7.7}{9}\selectfont #5}}%
  \vspace{0.6em}

}


